# Porterble SmartCart 기술 문서

* 작성자: 박수성 (현대자동차그룹 16기 학사 연구장학생, 성균관대학교)
* 최종 검토 일자: 2019년 8월 11일


## 1. 하드웨어 설계
내용


## 2. 소프트웨어 설계
### 2.1. 구동부 제어
구동부는 4개의 DC 엔코더 모터로 작동되며, 이들은 Arduino Mega 2560 보드를 통해 PID 방식으로 제어된다. Arduino 보드의 처리 속도가 다소 느리기 때문에 무한루프의 각 회차 간 시간 간격이 일정하지 않을 수 있어, 정해진 주기에 맞추어 무한루프를 실행하는 것이 아니라 각 회차에서 `micros()` 함수를 통해 타임스탬프를 기록하고, 이를 지난 회차의 타임스탬프와 비교하여 미분 값과 적분 값을 계산하였다.

한편, 제어를 위한 목표 값은 시리얼 통신을 통해 전송받는데, 단순히 숫자를 문자열로 바꾸어 전송하면 숫자의 각 자릿수가 `char` 형 자료 한 개 씩 전송되게 되고, 이는 시리얼 통신 데이터의 용량이 필요 이상으로 커지게 하는 원인이 된다. 따라서, 숫자를 문자열로 바꾸는 대신, 바이트 열로 인코딩하여 전송되도록 하였다. 이를 통해 시리얼 통신의 데이터 용량을 절반 가량으로 감축할 수 있었다. 자세한 사양은 아래와 같다.

* 총 바이트 수: 
* 바이트 열 구성: 

### 2.2. 센서 입출력

